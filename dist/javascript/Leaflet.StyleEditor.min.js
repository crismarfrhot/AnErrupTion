!function(a,b){"function"==typeof define&&define.amd?define(["leaflet"],a):"object"==typeof exports&&(module.exports=a(require("leaflet"))),"undefined"!=typeof b&&b.L&&(b.L.StyleEditor=a(L))}(function(a){var b={marker:{},forms:{},formElements:{}};return b},window),L.StyleEditor.Util=L.Class.extend({initialize:function(a){a&&L.setOptions(this,a)},fireChangeEvent:function(a){this.options.styleEditorOptions.map.fireEvent("styleeditor:changed",a)},hideElement:function(a){a&&L.DomUtil.addClass(a,"leaflet-styleeditor-hidden")},rgbToHex:function(a,b){if(a||(a=this.options.styleEditorOptions.defaultColor),0==a.indexOf("#"))return b&&a.replace("#",""),a;var c="";return a=a.substring(4).replace(")","").split(","),c=this._componentToHex(parseInt(a[0],10))+this._componentToHex(parseInt(a[1],10))+this._componentToHex(parseInt(a[2],10)),b?c:"#"+c},getCurrentElement:function(){return this.options.styleEditorOptions.currentElement?this.options.styleEditorOptions.currentElement.target:null},setCurrentElement:function(a){this.options.styleEditorOptions.currentElement.target=a},fillCurrentElement:function(){return this.getCurrentElement().options.fill},getStyle:function(a){var b=this.getCurrentElement(),c=b.options[a];return c?c:null},setStyle:function(a,b){var c=this.getCurrentElement();if(c instanceof L.Marker)this.options.styleEditorOptions.markerType.setStyle(a,b);else{var d={};d[a]=b,c.setStyle(d)}this.fireChangeEvent(c)},showElement:function(a){a&&L.DomUtil.removeClass(a,"leaflet-styleeditor-hidden")},_componentToHex:function(a){var b=a.toString(16);return 1===b.length?"0"+b:b}}),L.StyleEditor.formElements.FormElement=L.Class.extend({initialize:function(a){a&&L.setOptions(this,a),this.options.styleOption&&(this.options.title=this.options.styleOption.charAt(0).toUpperCase()+this.options.styleOption.slice(1))},create:function(a){this.options.uiElement=L.DomUtil.create("div","leaflet-styleeditor-uiElement",a);this.createTitle(),this.createContent()},createTitle:function(){var a=L.DomUtil.create("label","leaflet-styleeditor-label",this.options.uiElement);a.innerHTML=this.options.title+":"},createContent:function(){},show:function(){this.style(),this.showForm()},showForm:function(){this.options.styleEditorOptions.util.showElement(this.options.uiElement)},hide:function(){this.options.styleEditorOptions.util.hideElement(this.options.uiElement)},style:function(){},setStyle:function(a){var b=this.options.styleEditorOptions.util.getCurrentElement(),c=[b];b instanceof L.LayerGroup&&(c=Object.values(b._layers));for(var d=0;d<c.length;d++){var e=c[d];if(e instanceof L.Marker)this.options.styleEditorOptions.markerType.setStyle(this.options.styleOption,a),e.options.icon.options[this.options.styleOption]=a;else{var f={};f[this.options.styleOption]=a,e.setStyle(f),e.options[this.options.styleOption]=a}}this.options.styleEditorOptions.util.fireChangeEvent(e),this.options.parentForm.style()}}),L.StyleEditor.formElements.IconElement=L.StyleEditor.formElements.FormElement.extend({createContent:function(){var a=this.options.uiElement,b=L.DomUtil.create("button","leaflet-styleeditor-select",a),c=this.options.selectBoxImage=this._createSelectInputImage(b);L.DomEvent.addListener(b,"click",this._toggleSelectInput,this),L.DomEvent.addListener(c,"click",this._toggleSelectInput,this);var d=this.options.styleEditorOptions.colorRamp;d.forEach(function(a){this._createColorSelect(a)},this)},style:function(){this._styleSelectInputImage(this.options.selectBoxImage,this.options.styleEditorOptions.markerType.options.iconOptions.icon)},_createSelectInputImage:function(a){return L.DomUtil.create("div","leaflet-styleeditor-select-image",a)},_styleSelectInputImage:function(a,b,c){if(b||(b=a.getAttribute("value"))){var d=this.options.styleEditorOptions.markerType.options.iconOptions;c&&(d.iconColor=c),a.innerHTML="",this.options.styleEditorOptions.markerType.createSelectHTML(a,d,b),a.setAttribute("value",b)}},_createColorSelect:function(a){this.options.selectOptions||(this.options.selectOptions={});var b=this.options.uiElement,c=L.DomUtil.create("ul","leaflet-styleeditor-select-option-wrapper leaflet-styleeditor-hidden",b);this.options.styleEditorOptions.markerType.options.markers.forEach(function(b){var d=L.DomUtil.create("li","leaflet-styleeditor-select-option",c),e=this._createSelectInputImage(d);this._styleSelectInputImage(e,b,a)},this),this.options.selectOptions[a]=c,L.DomEvent.addListener(c,"click",function(a){a.stopPropagation();var b=a.target;if("UL"!==b.nodeName){for(;"LI"!==b.nodeName;)b=b.parentNode;"LI"===b.nodeName&&(b=b.childNodes[0]),this._selectMarker({target:b},this)}},this)},_toggleSelectInput:function(a){a&&a.stopPropagation(),window.oerhg=this.options.styleEditorOptions.markerType.options.iconOptions.iconColor;var b=this.options.selectOptions[this.options.styleEditorOptions.util.rgbToHex(this.options.styleEditorOptions.markerType.options.iconOptions.iconColor)],c=!1;b&&(c=L.DomUtil.hasClass(b,"leaflet-styleeditor-hidden")),Object.values(this.options.selectOptions).forEach(function(a){this.options.styleEditorOptions.util.hideElement(a)},this),c&&this.options.styleEditorOptions.util.showElement(b)},_selectMarker:function(a){var b=a.target.getAttribute("value");this.options.selectBoxImage.setAttribute("value",b),this.setStyle(b);for(var c=0;c<this.options.selectOptions.length;c++)this.options.styleEditorOptions.util.hideElement(this.options.selectOptions[c]);this._toggleSelectInput()}}),L.StyleEditor.formElements.ColorElement=L.StyleEditor.formElements.FormElement.extend({createContent:function(){this.options.colorPickerDiv=L.DomUtil.create("div","leaflet-styleeditor-colorpicker",this.options.uiElement),this._getColorRamp().forEach(this._setSelectCallback,this)},_getColorRamp:function(){return this.options.colorRamp?this.options.colorRamp:this.options.styleEditorOptions.colorRamp},_setSelectCallback:function(a){var b=L.DomUtil.create("div","leaflet-styleeditor-color",this.options.colorPickerDiv);b.style.backgroundColor=a,L.DomEvent.addListener(b,"click",this._selectColor,this)},_selectColor:function(a){a.stopPropagation(),this.setStyle(a.target.style.backgroundColor),this.options.styleEditorOptions.currentElement.target instanceof L.Marker&&this.options.styleEditorOptions.markerType.setNewMarker()}}),L.StyleEditor.formElements.OpacityElement=L.StyleEditor.formElements.FormElement.extend({createContent:function(){var a=this.options.opacity=L.DomUtil.create("input","leaflet-styleeditor-input",this.options.uiElement);a.type="number",a.max=1,a.min=0,a.step=.1,a.value=.5,L.DomEvent.addListener(a,"change",this._setStyle,this),L.DomEvent.addListener(a,"input",this._setStyle,this),L.DomEvent.addListener(a,"keyup",this._setStyle,this),L.DomEvent.addListener(a,"mouseup",this._setStyle,this)},style:function(){this.options.opacity.value=this.options.styleEditorOptions.util.getStyle(this.options.styleOption)},_setStyle:function(){this.setStyle(this.options.opacity.value)}}),L.StyleEditor.formElements.SizeElement=L.StyleEditor.formElements.FormElement.extend({createContent:function(){var a=this.options.uiElement,b=L.DomUtil.create("div","leaflet-styleeditor-sizeicon sizeicon-small",a);L.DomEvent.addListener(b,"click",function(){this.setStyle([20,50])},this),b=L.DomUtil.create("div","leaflet-styleeditor-sizeicon sizeicon-medium",a),L.DomEvent.addListener(b,"click",function(){this.setStyle([30,70])},this),b=L.DomUtil.create("div","leaflet-styleeditor-sizeicon sizeicon-large",a),L.DomEvent.addListener(b,"click",function(){this.setStyle([35,90])},this)}}),L.StyleEditor.formElements.DashElement=L.StyleEditor.formElements.FormElement.extend({createContent:function(){var a=this.options.uiElement,b=L.DomUtil.create("div","leaflet-styleeditor-stroke",a);b.style.backgroundPosition="0px -75px",L.DomEvent.addListener(b,"click",function(){this.setStyle("1")},this),b=L.DomUtil.create("div","leaflet-styleeditor-stroke",a),b.style.backgroundPosition="0px -95px",L.DomEvent.addListener(b,"click",function(){this.setStyle("10, 10")},this),b=L.DomUtil.create("div","leaflet-styleeditor-stroke",a),b.style.backgroundPosition="0px -115px",L.DomEvent.addListener(b,"click",function(){this.setStyle("15, 10, 1, 10")},this)}}),L.StyleEditor.forms.Form=L.Class.extend({initialize:function(a){a&&L.setOptions(this,a),this.options.initializedElements=[]},create:function(a){this.options.parentUiElement=a;for(var b=Object.keys(this.options.formElements),c=Object.values(this.options.formElements),d=0;d<b.length;d++){var e=new c[d]({styleOption:b[d],parentForm:this,styleEditorOptions:this.options.styleEditorOptions});e.create(a),this.options.initializedElements.push(e)}},hide:function(){this.hideFormElements(),this.hideForm()},hideFormElements:function(){for(var a=0;a<this.options.initializedElements.length;a++)this.options.initializedElements[a].hide()},hideForm:function(){this.options.styleEditorOptions.util.showElement(this.options.parentUiElement)},show:function(){this.preShow(),this.showFormElements(),this.showForm()},preShow:function(){},showFormElements:function(){for(var a=0;a<this.options.initializedElements.length;a++)this.options.initializedElements[a].show()},showForm:function(){this.options.styleEditorOptions.util.showElement(this.options.parentUiElement)},style:function(){for(var a=0;a<this.options.initializedElements.length;a++)this.options.initializedElements[a].style()}}),L.StyleEditor.forms.GeometryForm=L.StyleEditor.forms.Form.extend({options:{formElements:{color:L.StyleEditor.formElements.ColorElement,opacity:L.StyleEditor.formElements.OpacityElement,dashArray:L.StyleEditor.formElements.DashElement,fillColor:L.StyleEditor.formElements.ColorElement,fillOpacity:L.StyleEditor.formElements.OpacityElement}},showFormElements:function(){for(var a=0;a<this.options.initializedElements.length;a++)0==this.options.initializedElements[a].options.styleOption.indexOf("fill")?this.options.styleEditorOptions.util.fillCurrentElement()?this.options.initializedElements[a].show():this.options.initializedElements[a].hide():this.options.initializedElements[a].show()}}),L.StyleEditor.forms.MarkerForm=L.StyleEditor.forms.Form.extend({options:{formElements:{icon:L.StyleEditor.formElements.IconElement,color:L.StyleEditor.formElements.ColorElement,size:L.StyleEditor.formElements.SizeElement}},preShow:function(){Object.assign(this.options.styleEditorOptions.markerType.options.iconOptions,this.options.styleEditorOptions.util.getCurrentElement().options.icon.options)}}),L.StyleEditor.marker.Marker=L.Class.extend({initialize:function(a){L.setOptions(this,a),this.options.iconOptions={iconSize:[20,50],iconColor:"rgb(41, 128, 185)",icon:"square"}},setNewMarker:function(){var a=this.options.iconOptions;if(a.iconSize&&a.icon&&a.iconColor){var b=this.createMarkerIcon(a),c=this.options.styleEditorOptions.currentElement.target;c.setIcon(b)}},setStyle:function(a,b){var c=this.options.iconOptions;c[a]!=b&&(c[a]=b,this.setNewMarker())}}),L.StyleEditor.marker.MakiMarker=L.StyleEditor.marker.Marker.extend({createMarkerIcon:function(a){var b=a.iconSize;return new L.Icon({iconUrl:this._getMakiMarkerUrlForStyle(a),iconSize:a.iconSize,iconColor:a.iconColor,icon:a.icon,iconAnchor:[b[0]/2,b[1]/2],popupAnchor:[0,-b[1]/2]})},createSelectHTML:function(a,b,c){var d=this._getMakiMarkerUrl([20,30],b.iconColor,c),e=L.DomUtil.create("IMG","",a);e.src=d},setStyle:function(a,b){"icon"!=a&&(a="icon"+a.charAt(0).toUpperCase()+a.slice(1));var c=this.options.iconOptions;c[a]!=b&&(c[a]=b,this.setNewMarker())},_getMakiMarkerUrlForStyle:function(a){return this._getMakiMarkerUrl(a.iconSize,a.iconColor,a.icon)},_getMakiMarkerUrl:function(a,b,c){a=this._size(a),b=0==b.indexOf("#")?b.replace("#",""):this.options.styleEditorOptions.util.rgbToHex(b,!0);var d="http://api.tiles.mapbox.com/v3/marker/pin-"+a;return c&&(d+="-"+c),d+"+"+b+".png"},_size:function(a){return a[0]>=30?a[0]>=35?"l":"m":"s"},options:{markers:["circle-stroked","circle","square-stroked","square","triangle-stroked","triangle","star-stroked","star","cross","marker-stroked","marker","religious-jewish","religious-christian","religious-muslim","cemetery","rocket","airport","heliport","rail","rail-metro","rail-light","bus","fuel","parking","parking-garage","airfield","roadblock","ferry","harbor","bicycle","park","park2","museum","lodging","monument","zoo","garden","campsite","theatre","art-gallery","pitch","soccer","america-football","tennis","basketball","baseball","golf","swimming","cricket","skiing","school","college","library","post","fire-station","town-hall","police","prison","embassy","beer","restaurant","cafe","shop","fast-food","bar","bank","grocery","cinema","pharmacy","hospital","danger","industrial","warehouse","commercial","building","place-of-worship","alcohol-shop","logging","oil-well","slaughterhouse","dam","water","wetland","disability","telephone","emergency-telephone","toilets","waste-basket","music","land-use","city","town","village","farm","bakery","dog-park","lighthouse","clothing-store","polling-place","playground","entrance","heart","london-underground","minefield","rail-underground","rail-above","camera","laundry","car","suitcase","hairdresser","chemist","mobilephone","scooter"]}}),L.StyleEditor.marker.GlyphiconMarker=L.StyleEditor.marker.MakiMarker.extend({getMarkerHtml:function(a,b,c){var d=this._getMakiMarkerUrl(a,b);return'<div class="leaflet-styleeditor-glyphicon-marker leaflet-styleeditor-glyphicon-marker-'+this._size(a)+'" style="background-image: url('+d+');"><div class="leaflet-styleeditor-fill"></div><i class="glyphicon '+c+'"></i><div class="leaflet-styleeditor-fill"></div></div>'},createMarkerIcon:function(a){var b=a.iconSize;return new L.divIcon({className:"leaflet-styleeditor-glyphicon-marker-wrapper",html:this.getMarkerHtml(b,a.iconColor,a.icon),icon:a.icon,iconColor:a.iconColor,iconSize:b,iconAnchor:[b[0]/2,b[1]/2],popupAnchor:[0,-b[1]/2]})},createSelectHTML:function(a,b,c){a.innerHTML=this.getMarkerHtml("s",b.iconColor,c)},_size:function(a){return a[0]>=30?a[0]>=35?"l":"m":"s"},options:{markers:["glyphicon-plus","glyphicon-asterisk","glyphicon-plus","glyphicon-euro","glyphicon-minus","glyphicon-cloud","glyphicon-envelope","glyphicon-pencil","glyphicon-glass","glyphicon-music","glyphicon-search","glyphicon-heart","glyphicon-star","glyphicon-star-empty","glyphicon-user","glyphicon-film","glyphicon-th-large","glyphicon-th","glyphicon-th-list","glyphicon-ok","glyphicon-remove","glyphicon-zoom-in","glyphicon-zoom-out","glyphicon-off","glyphicon-signal","glyphicon-cog","glyphicon-trash","glyphicon-home","glyphicon-file","glyphicon-time","glyphicon-road","glyphicon-download-alt","glyphicon-download","glyphicon-upload","glyphicon-inbox","glyphicon-play-circle","glyphicon-repeat","glyphicon-refresh","glyphicon-list-alt","glyphicon-lock","glyphicon-flag","glyphicon-headphones","glyphicon-volume-off","glyphicon-volume-down","glyphicon-volume-up","glyphicon-qrcode","glyphicon-barcode","glyphicon-tag","glyphicon-tags","glyphicon-book","glyphicon-bookmark","glyphicon-print","glyphicon-camera","glyphicon-font","glyphicon-bold","glyphicon-italic","glyphicon-text-height","glyphicon-text-width","glyphicon-align-left","glyphicon-align-center","glyphicon-align-right","glyphicon-align-justify","glyphicon-list","glyphicon-indent-left","glyphicon-indent-right","glyphicon-facetime-video","glyphicon-picture","glyphicon-map-marker","glyphicon-adjust","glyphicon-tint","glyphicon-edit","glyphicon-share","glyphicon-check","glyphicon-move","glyphicon-chevron-right","glyphicon-plus-sign","glyphicon-minus-sign","glyphicon-remove-sign","glyphicon-ok-sign","glyphicon-question-sign","glyphicon-info-sign","glyphicon-screenshot","glyphicon-remove-circle","glyphicon-ok-circle","glyphicon-ban-circle","glyphicon-arrow-left","glyphicon-arrow-right","glyphicon-arrow-up","glyphicon-arrow-down","glyphicon-share-alt","glyphicon-resize-full","glyphicon-resize-small","glyphicon-exclamation-sign","glyphicon-gift","glyphicon-leaf","glyphicon-fire","glyphicon-eye-open","glyphicon-eye-close","glyphicon-warning-sign","glyphicon-plane","glyphicon-calendar","glyphicon-random","glyphicon-comment","glyphicon-magnet","glyphicon-chevron-up","glyphicon-chevron-down","glyphicon-retweet","glyphicon-shopping-cart","glyphicon-bullhorn","glyphicon-bell","glyphicon-certificate","glyphicon-thumbs-up","glyphicon-thumbs-down","glyphicon-hand-right","glyphicon-hand-left","glyphicon-hand-up","glyphicon-hand-down","glyphicon-circle-arrow-right","glyphicon-circle-arrow-left","glyphicon-circle-arrow-up","glyphicon-circle-arrow-down","glyphicon-globe","glyphicon-wrench","glyphicon-tasks","glyphicon-filter","glyphicon-briefcase","glyphicon-fullscreen","glyphicon-dashboard","glyphicon-paperclip","glyphicon-heart-empty","glyphicon-link","glyphicon-phone","glyphicon-pushpin","glyphicon-usd"]}}),L.StyleForm=L.Class.extend({initialize:function(a){L.setOptions(this,a),this.createMarkerForm(),this.createGeometryForm()},addDOMEvents:function(){L.DomEvent.addListener(this.options.styleEditorOptions.map,"click",this.hideSelectInput,this),L.DomEvent.addListener(this.options.styleEditorDiv,"click",this.hideSelectInput,this)},clearForm:function(){this.options.styleEditorOptions.markerForm.hide(),this.options.styleEditorOptions.geometryForm.hide()},createMarkerForm:function(){var a=L.DomUtil.create("div","leaflet-styleeditor-interior-marker",this.options.styleEditorInterior);this.options.styleEditorOptions.markerForm.create(a)},createGeometryForm:function(){var a=L.DomUtil.create("div","leaflet-styleeditor-interior-geometry",this.options.styleEditorInterior);this.options.styleEditorOptions.geometryForm.create(a)},showMarkerForm:function(){this.clearForm(),this.options.styleEditorOptions.markerForm.show()},showGeometryForm:function(){this.clearForm(),this.options.styleEditorOptions.geometryForm.show()},fireChangeEvent:function(a){this.options.styleEditorOptions.map.fireEvent("styleeditor:changed",a)}}),L.Control.StyleEditor=L.Control.extend({options:{position:"topleft",enabled:!1,colorRamp:["#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50","#f1c40f","#e67e22","#e74c3c","#ecf0f1","#95a5a6","#f39c12","#d35400","#c0392b","#bdc3c7","#7f8c8d"],defaultColor:"f39c12",currentElement:null,markerType:L.StyleEditor.marker.MakiMarker,markerForm:L.StyleEditor.forms.MarkerForm,geometryForm:L.StyleEditor.forms.GeometryForm,editLayers:[],layerGroups:[],openOnLeafletDraw:!0,showTooltip:!0,strings:{tooltip:"Click on the element you want to style",tooltipNext:"Choose another element you want to style"},useGrouping:!0},initialize:function(a){a&&L.setOptions(this,a),this.options.util=new L.StyleEditor.Util({styleEditorOptions:this.options}),window.asdf=this.options.markerType,this.options.markerType=new this.options.markerType({styleEditorOptions:this.options}),this.options.markerForm=new this.options.markerForm({styleEditorOptions:this.options}),this.options.geometryForm=new this.options.geometryForm({styleEditorOptions:this.options})},onAdd:function(a){return this.options.map=a,this.createUi()},createUi:function(){var a=this.options.controlDiv=L.DomUtil.create("div","leaflet-control-styleeditor leaflet-bar"),b=this.options.controlUI=L.DomUtil.create("a","leaflet-control-styleeditor-interior",a);b.title="Style Editor";var c=this.options.styleEditorDiv=L.DomUtil.create("div","leaflet-styleeditor",this.options.map._container);this.options.styleEditorHeader=L.DomUtil.create("div","leaflet-styleeditor-header",c);var d=L.DomUtil.create("div","leaflet-styleeditor-interior",c);return this.addDomEvents(),this.addLeafletDrawEvents(),this.addButtons(),this.options.styleForm=new L.StyleForm({styleEditorDiv:c,styleEditorInterior:d,styleEditorOptions:this.options}),a},addDomEvents:function(){L.DomEvent.addListener(this.options.controlDiv,"click",function(a){this.clickHandler(a),a.stopPropagation()},this),L.DomEvent.addListener(this.options.controlDiv,"dblclick",function(a){a.stopPropagation()},this),L.DomEvent.addListener(this.options.styleEditorDiv,"click",L.DomEvent.stopPropagation),L.DomEvent.addListener(this.options.styleEditorDiv,"mouseenter",this.disableLeafletActions,this),L.DomEvent.addListener(this.options.styleEditorDiv,"mouseleave",this.enableLeafletActions,this)},addLeafletDrawEvents:function(){this.options.openOnLeafletDraw&&L.Control.Draw&&this.options.map.on("draw:created",function(a){this.initChangeStyle({target:a.layer})},this)},addButtons:function(){var a=L.DomUtil.create("button","leaflet-styleeditor-button styleeditor-nextBtn",this.options.styleEditorHeader);a.title=this.options.strings.tooltipNext,L.DomEvent.addListener(a,"click",function(a){this.hideEditor(),L.DomUtil.hasClass(this.options.controlUI,"enabled")&&this.createTooltip(),a.stopPropagation()},this)},clickHandler:function(a){this.options.enabled=!this.options.enabled,this.options.enabled?this.enable():(L.DomUtil.removeClass(this.options.controlUI,"enabled"),this.disable())},disableLeafletActions:function(){var a=this.options.map;a.dragging.disable(),a.touchZoom.disable(),a.doubleClickZoom.disable(),a.scrollWheelZoom.disable(),a.boxZoom.disable(),a.keyboard.disable()},enableLeafletActions:function(){var a=this.options.map;a.dragging.enable(),a.touchZoom.enable(),a.doubleClickZoom.enable(),a.scrollWheelZoom.enable(),a.boxZoom.enable(),a.keyboard.enable()},enable:function(){L.DomUtil.addClass(this.options.controlUI,"enabled"),this.options.map.eachLayer(this.addEditClickEvents,this),this.createTooltip()},disable:function(){this.options.editLayers.forEach(this.removeEditClickEvents,this),this.options.editLayers=[],this.options.layerGroups=[],this.hideEditor(),this.removeTooltip()},addEditClickEvents:function(a){if(this.options.useGrouping&&a instanceof L.LayerGroup)this.options.layerGroups.push(a);else if(a instanceof L.Marker||a instanceof L.Path){var b=a.on("click",this.initChangeStyle,this);this.options.editLayers.push(b)}},removeEditClickEvents:function(a){a.off("click",this.initChangeStyle,this)},hideEditor:function(){L.DomUtil.removeClass(this.options.styleEditorDiv,"editor-enabled")},showEditor:function(){var a=this.options.styleEditorDiv;L.DomUtil.hasClass(a,"editor-enabled")||L.DomUtil.addClass(a,"editor-enabled")},initChangeStyle:function(a){this.options.currentElement=this.options.useGrouping?this.getMatchingElement(a):a,this.showEditor(),this.removeTooltip();var b=a.target;b instanceof L.Marker?this.showMarkerForm():this.showGeometryForm()},showGeometryForm:function(){this.options.styleForm.showGeometryForm()},showMarkerForm:function(){this.options.styleForm.showMarkerForm()},createTooltip:function(){this.options.showTooltip&&(this.options.tooltipWrapper||(this.options.tooltipWrapper=L.DomUtil.create("div","leaflet-styleeditor-tooltip-wrapper",this.options.map.getContainer())),this.options.tooltip||(this.options.tooltip=L.DomUtil.create("div","leaflet-styleeditor-tooltip",this.options.tooltipWrapper)),this.options.tooltip.innerHTML=this.options.strings.tooltip)},getMatchingElement:function(a){for(var b=null,c=a.target,d=0;d<this.options.layerGroups.length;++d)if(b=this.options.layerGroups[d],b&&c!=b&&b.hasLayer(c))return b.options&&b.options.opacity||(b.options=c.options,c.setIcon&&(b.setIcon=function(a){b.eachLayer(function(b){b instanceof L.Marker&&b.setIcon(a)})})),this.getMatchingElement({target:b});return a},removeTooltip:function(){this.options.tooltip&&this.options.tooltip.parentNode&&(this.options.tooltip.remove(),this.options.tooltip=void 0)}}),L.control.styleEditor=function(a){return new L.Control.StyleEditor(a)};